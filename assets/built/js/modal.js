!function(){function e(){var e=parseInt(document.body.dataset.modalScrollY||"0",10);document.body.classList.remove("no-scroll"),document.body.style.top="",delete document.body.dataset.modalScrollY;var t=document.documentElement.style.scrollBehavior;document.documentElement.style.scrollBehavior="auto",window.scrollTo(0,e),document.documentElement.style.scrollBehavior=t||""}function t(t){console.log("Displaying modal for:",t);var o="";if(t.match(/\.(jpeg|jpg|gif|png)$/))o='<img src="'.concat(t,'" style="max-width:90%; max-height:80vh;">');else if(t.includes("youtube.com")||t.includes("youtu.be")||t.includes("vimeo.com")){var l=function(e){for(var t=0,o=[{match:/(youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/,embedUrl:function(e){return"https://www.youtube.com/embed/".concat(e,"?autoplay=1&enablejsapi=1")}},{match:/vimeo\.com\/(\d+)/,embedUrl:function(e){return"https://player.vimeo.com/video/".concat(e,"?autoplay=1")}}];t<o.length;t++){var l=o[t],a=e.match(l.match);if(a&&a[1]){var n=a[2]||a[1];return l.embedUrl(n)}}return""}(t);o='<div class="aspect-ratio-16-9 iframe"><iframe src="'.concat(l,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>')}else o=t.match(/\.(mp4|webm|ogg)$/)?'<div class="aspect-ratio-16-9 video"><video controls autoplay src="'.concat(t,'" style="object-fit: contain;"></video></div>'):'<div class="aspect-ratio-match-window"><iframe src="'.concat(t,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>');var a=document.createElement("div");a.id="flexline-modal",a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.backgroundColor="rgba(0, 0, 0, 0.8)",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.style.zIndex="10000000",a.style.cursor="pointer",a.setAttribute("role","dialog"),a.setAttribute("aria-modal","true"),a.setAttribute("aria-label","Media Modal");var n,r=document.createElement("span");r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="#ffffff" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',r.style.position="absolute",r.style.top="20px",r.style.right="20px",r.style.fontSize="24px",r.style.color="#fff",r.style.cursor="pointer",r.setAttribute("aria-label","Close modal"),r.setAttribute("role","button"),r.setAttribute("tabindex","0"),r.className="material-symbols-outlined",a.innerHTML=o,a.appendChild(r),n=window.scrollY||document.documentElement.scrollTop||0,document.body.dataset.modalScrollY=String(n),document.body.style.top="-".concat(n,"px"),document.body.classList.add("no-scroll"),document.body.appendChild(a),r.focus(),r.addEventListener("click",function(t){t.stopPropagation(),a.remove(),e()}),a.addEventListener("click",function(){a.remove(),e()}),document.addEventListener("keydown",function(t){"Escape"===t.key&&(a.remove(),e())},{once:!0})}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".enable-modal:not(.wp-block-button)").forEach(function(e){var o=e.querySelector("img, a");if(o){var l,a,n=e.dataset.modalMediaUrl||o.getAttribute("A"===o.tagName?"href":"src");n&&(a=n,(l=o).classList.add("has-modal"),l.setAttribute("data-enable-modal","true"),l.setAttribute("data-modal-media-url",a),/youtube\.com|youtu\.be|vimeo\.com|\.mp4|\.webm|\.ogg/.test(a)?l.insertAdjacentHTML("beforeend",'<span class="material-symbols-outlined"><svg xmlns="http://www.w3.org/2000/svg"  height="20" viewBox="0 -960 960 960" width="20"><path fill="currentColor" d="M320-200v-560l440 280-440 280Z"/></svg></span>'):l.insertAdjacentHTML("beforeend",'<span class="material-symbols-outlined"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="currentColor" d="M200-200v-240h80v160h160v80H200Zm480-320v-160H520v-80h240v240h-80Z"/></svg></span>'),l.addEventListener("click",function(e){e.preventDefault(),t(a)}))}}),document.querySelectorAll(".enable-modal.wp-block-button a").forEach(function(e){var o=e.href;o&&o&&e.addEventListener("click",function(e){e.preventDefault(),t(o)})}),document.querySelectorAll(".group-link-type-modal_media .flexline-group-link-anchor").forEach(function(e){var o=e.href;if(o){e.addEventListener("click",function(e){e.preventDefault(),t(o)})}})})}();