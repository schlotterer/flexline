!function(){function e(e,t){console.log("Displaying modal for:",e);var a="";if(e.match(/\.(jpeg|jpg|gif|png)$/))a='<img src="'.concat(e,'" style="max-width:90%; max-height:80vh;">');else if(e.includes("youtube.com")||e.includes("youtu.be")||e.includes("vimeo.com")){var o=function(e){for(var t=0,a=[{match:/(youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/,embedUrl:function(e){return"https://www.youtube.com/embed/".concat(e,"?autoplay=1&enablejsapi=1")}},{match:/vimeo\.com\/(\d+)/,embedUrl:function(e){return"https://player.vimeo.com/video/".concat(e,"?autoplay=1")}}];t<a.length;t++){var o=a[t],n=e.match(o.match);if(n&&n[1]){var r=n[2]||n[1];return o.embedUrl(r)}}return""}(e);a='<div class="aspect-ratio-16-9 iframe"><iframe src="'.concat(o,'" frameborder="0" title="Embedded video" allow="autoplay; fullscreen" allowfullscreen></iframe></div>')}else a=e.match(/\.(mp4|webm|ogg)$/)?'<div class="aspect-ratio-16-9 video"><video controls autoplay src="'.concat(e,'" style="object-fit: contain;"></video></div>'):'<div class="aspect-ratio-match-window"><iframe src="'.concat(e,'" frameborder="0" title="Embedded content" allow="autoplay; fullscreen" allowfullscreen></iframe></div>');var n=document.createElement("div");n.id="flexline-modal",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundColor="rgba(0, 0, 0, 0.8)",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.zIndex="10000000",n.style.cursor="pointer",n.setAttribute("role","dialog"),n.setAttribute("aria-modal","true"),n.setAttribute("aria-label","Media modal"),n.setAttribute("tabindex","-1");var r,i=document.createElement("span");i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="#ffffff" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',i.style.position="absolute",i.style.top="20px",i.style.right="20px",i.style.fontSize="24px",i.style.color="#fff",i.style.cursor="pointer",i.setAttribute("aria-label","Close modal"),i.setAttribute("aria-keyshortcuts","Escape"),i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.className="material-symbols-outlined",n.innerHTML=a,n.appendChild(i),r=window.scrollY||document.documentElement.scrollTop||0,document.body.dataset.modalScrollY=String(r),document.body.style.top="-".concat(r,"px"),document.body.classList.add("no-scroll"),document.body.appendChild(n);var l=n.ownerDocument||document,d=t||l.activeElement,s=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(",");i.focus();var c;c=function(e){if("Escape"===e.key)return e.preventDefault(),void u();if("Tab"===e.key){var t=Array.from(n.querySelectorAll(s));if(0===t.length)return e.preventDefault(),void i.focus();var a=t[0],o=t[t.length-1];e.shiftKey&&l.activeElement===a?(e.preventDefault(),o.focus()):e.shiftKey||l.activeElement!==o||(e.preventDefault(),a.focus())}},n.addEventListener("keydown",c);var u=function(){n.remove(),function(){var e=parseInt(document.body.dataset.modalScrollY||"0",10);document.body.classList.remove("no-scroll"),document.body.style.top="",delete document.body.dataset.modalScrollY;var t=document.documentElement.style.scrollBehavior;document.documentElement.style.scrollBehavior="auto",window.scrollTo(0,e),document.documentElement.style.scrollBehavior=t||""}(),d&&"function"==typeof d.setAttribute&&"function"==typeof d.focus&&(d.setAttribute("aria-expanded","false"),d.focus()),n.removeEventListener("keydown",c),document.removeEventListener("keydown",m,!0)};i.addEventListener("click",function(e){e.stopPropagation(),u()}),n.addEventListener("click",function(){u()});var m=function(e){"Escape"===e.key&&u()};document.addEventListener("keydown",m,!0),n.focus()}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".enable-modal:not(.wp-block-button)").forEach(function(t){var a=t.querySelector("img, a");if(a){var o=t.dataset.modalMediaUrl||a.getAttribute("A"===a.tagName?"href":"src");o&&function(t,a){if(t.classList.add("has-modal"),t.setAttribute("data-enable-modal","true"),t.setAttribute("data-modal-media-url",a),/youtube\.com|youtu\.be|vimeo\.com|\.mp4|\.webm|\.ogg/.test(a)?t.insertAdjacentHTML("beforeend",'<span class="material-symbols-outlined"><svg xmlns="http://www.w3.org/2000/svg"  height="20" viewBox="0 -960 960 960" width="20"><path fill="currentColor" d="M320-200v-560l440 280-440 280Z"/></svg></span>'):t.insertAdjacentHTML("beforeend",'<span class="material-symbols-outlined"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"><path fill="currentColor" d="M200-200v-240h80v160h160v80H200Zm480-320v-160H520v-80h240v240h-80Z"/></svg></span>'),"A"===t.tagName||"BUTTON"===t.tagName||(t.setAttribute("role","button"),t.setAttribute("tabindex","0")),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-controls","flexline-modal"),t.setAttribute("aria-expanded","false"),!t.getAttribute("aria-label")){var o=t.getAttribute("alt"),n=o&&""!==o.trim()?o:"Open media in modal";t.setAttribute("aria-label",n)}var r=function(t){t.setAttribute("aria-expanded","true"),e(a,t)};t.addEventListener("click",function(e){e.preventDefault(),r(e.currentTarget)}),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),r(e.currentTarget))})}(a,o)}}),document.querySelectorAll(".enable-modal.wp-block-button a").forEach(function(t){var a=t.href;if(a&&a){t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-controls","flexline-modal"),t.setAttribute("aria-expanded","false"),t.textContent.trim()||t.getAttribute("aria-label")||t.setAttribute("aria-label","Open media in modal");var o=function(t){t.setAttribute("aria-expanded","true"),e(a,t)};t.addEventListener("click",function(e){e.preventDefault(),o(e.currentTarget)}),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o(e.currentTarget))})}}),document.querySelectorAll(".group-link-type-modal_media .flexline-group-link-anchor").forEach(function(t){var a=t.href;if(a){t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-controls","flexline-modal"),t.setAttribute("aria-expanded","false");var o=function(o){o.preventDefault(),t.setAttribute("aria-expanded","true"),e(a,t)};t.addEventListener("click",o),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o(e))})}})})}();