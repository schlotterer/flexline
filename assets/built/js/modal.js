!function(){function e(e,t){console.log("Displaying modal for:",e);var a="";if(e.match(/\.(jpeg|jpg|gif|png)$/))a='<img src="'.concat(e,'" style="max-width:90%; max-height:80vh;">');else if(e.includes("youtube.com")||e.includes("youtu.be")||e.includes("vimeo.com")){var o=function(e){for(var t=0,a=[{match:/(youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/,embedUrl:function(e){return"https://www.youtube.com/embed/".concat(e,"?autoplay=1&enablejsapi=1")}},{match:/vimeo\.com\/(\d+)/,embedUrl:function(e){return"https://player.vimeo.com/video/".concat(e,"?autoplay=1")}}];t<a.length;t++){var o=a[t],r=e.match(o.match);if(r&&r[1]){var n=r[2]||r[1];return o.embedUrl(n)}}return""}(e);a='<div class="aspect-ratio-16-9 iframe"><iframe src="'.concat(o,'" frameborder="0" title="Embedded video" allow="autoplay; fullscreen" allowfullscreen></iframe></div>')}else a=e.match(/\.(mp4|webm|ogg)$/)?'<div class="aspect-ratio-16-9 video"><video controls autoplay src="'.concat(e,'" style="object-fit: contain;"></video></div>'):'<div class="aspect-ratio-match-window"><iframe src="'.concat(e,'" frameborder="0" title="Embedded content" allow="autoplay; fullscreen" allowfullscreen></iframe></div>');var r=document.createElement("div");r.id="flexline-modal",r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgba(0, 0, 0, 0.8)",r.style.display="flex",r.style.justifyContent="center",r.style.alignItems="center",r.style.zIndex="10000000",r.style.cursor="pointer",r.setAttribute("role","dialog"),r.setAttribute("aria-modal","true"),r.setAttribute("aria-label","Media modal"),r.setAttribute("tabindex","-1");var n,l=document.createElement("span");l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="#ffffff" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',l.style.position="absolute",l.style.top="20px",l.style.right="20px",l.style.fontSize="24px",l.style.color="#fff",l.style.cursor="pointer",l.setAttribute("aria-label","Close modal"),l.setAttribute("aria-keyshortcuts","Escape"),l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.className="material-symbols-outlined",r.innerHTML=a,r.appendChild(l),n=window.scrollY||document.documentElement.scrollTop||0,document.body.dataset.modalScrollY=String(n),document.body.style.top="-".concat(n,"px"),document.body.classList.add("no-scroll"),document.body.appendChild(r);var i=r.ownerDocument||document,d=t||i.activeElement,c=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(",");l.focus();var s;s=function(e){if("Escape"===e.key)return e.preventDefault(),void u();if("Tab"===e.key){var t=Array.from(r.querySelectorAll(c));if(0===t.length)return e.preventDefault(),void l.focus();var a=t[0],o=t[t.length-1];e.shiftKey&&i.activeElement===a?(e.preventDefault(),o.focus()):e.shiftKey||i.activeElement!==o||(e.preventDefault(),a.focus())}},r.addEventListener("keydown",s);var u=function(){r.remove(),function(){var e=parseInt(document.body.dataset.modalScrollY||"0",10);document.body.classList.remove("no-scroll"),document.body.style.top="",delete document.body.dataset.modalScrollY;var t=document.documentElement.style.scrollBehavior;document.documentElement.style.scrollBehavior="auto",window.scrollTo(0,e),document.documentElement.style.scrollBehavior=t||""}(),d&&"function"==typeof d.setAttribute&&"function"==typeof d.focus&&(d.setAttribute("aria-expanded","false"),d.focus()),r.removeEventListener("keydown",s),document.removeEventListener("keydown",m,!0)};l.addEventListener("click",function(e){e.stopPropagation(),u()}),r.addEventListener("click",function(){u()});var m=function(e){"Escape"===e.key&&u()};document.addEventListener("keydown",m,!0),r.focus()}document.addEventListener("DOMContentLoaded",function(){var t=new WeakSet;var a=function(a,o){if(a&&!t.has(a)){var r=o||a.dataset.modalMediaUrl;r&&(!function(t,a){if(t.classList.add("has-modal"),t.setAttribute("data-enable-modal","true"),t.setAttribute("data-modal-media-url",a),"A"===t.tagName||"BUTTON"===t.tagName||(t.setAttribute("role","button"),t.setAttribute("tabindex","0")),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-controls","flexline-modal"),t.setAttribute("aria-expanded","false"),!t.getAttribute("aria-label")){var o=t.getAttribute("alt"),r=o&&""!==o.trim()?o:"Open media in modal";t.setAttribute("aria-label",r)}var n=function(t){t.setAttribute("aria-expanded","true"),e(a,t)};t.addEventListener("click",function(e){e.preventDefault(),n(e.currentTarget)}),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(e.currentTarget))})}(a,r),t.add(a))}};document.querySelectorAll(".enable-modal-trigger").forEach(function(e){var t=e.dataset.modalMediaUrl||e.getAttribute("A"===e.tagName?"href":"src");a(e,t)}),document.querySelectorAll(".enable-modal:not(.wp-block-button)").forEach(function(e){if(!e.querySelector(".enable-modal-trigger")){var t=e.querySelector("img, a");if(t){var o=e.dataset.modalMediaUrl||t.getAttribute("A"===t.tagName?"href":"src");a(t,o)}}}),document.querySelectorAll(".enable-modal.wp-block-button a").forEach(function(e){var t=e.dataset.modalMediaUrl||e.href;a(e,t)}),document.querySelectorAll(".group-link-type-modal_media .flexline-group-link-anchor").forEach(function(t){var a=t.href;if(a){t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-controls","flexline-modal"),t.setAttribute("aria-expanded","false");var o=function(o){o.preventDefault(),t.setAttribute("aria-expanded","true"),e(a,t)};t.addEventListener("click",o),t.addEventListener("keydown",function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),o(e))})}})})}();