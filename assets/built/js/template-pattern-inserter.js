/*! For license information please see template-pattern-inserter.js.LICENSE.txt */
!function(){function t(){var n,r,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function a(t,o,c,i){var a=o&&o.prototype instanceof l?o:l,p=Object.create(a.prototype);return e(p,"_invoke",function(t,e,o){var c,i,a,l=0,p=o||[],f=!1,s={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return c=t,i=0,a=n,s.n=e,u}};function d(t,e){for(i=t,a=e,r=0;!f&&l&&!o&&r<p.length;r++){var o,c=p[r],d=s.p,v=c[2];t>3?(o=v===e)&&(a=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=n):c[0]<=d&&((o=t<2&&d<c[1])?(i=0,s.v=e,s.n=c[1]):d<v&&(o=t<3||c[0]>e||e>v)&&(c[4]=t,c[5]=e,s.n=v,i=0))}if(o||t>1)return u;throw f=!0,e}return function(o,p,v){if(l>1)throw TypeError("Generator is already running");for(f&&1===p&&d(p,v),i=p,a=v;(r=i<2?n:a)||!f;){c||(i?i<3?(i>1&&(s.n=-1),d(i,a)):s.n=a:s.v=a);try{if(l=2,c){if(i||(o="next"),r=c[o]){if(!(r=r.call(c,a)))throw TypeError("iterator result is not an object");if(!r.done)return r;a=r.value,i<2&&(i=0)}else 1===i&&(r=c.return)&&r.call(c),i<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=n}else if((r=(f=s.n<0)?a:t.call(e,s))!==u)break}catch(t){c=n,i=1,a=t}finally{l=1}}return{value:r,done:f}}}(t,c,i),!0),p}var u={};function l(){}function p(){}function f(){}r=Object.getPrototypeOf;var s=[][c]?r(r([][c]())):(e(r={},c,function(){return this}),r),d=f.prototype=l.prototype=Object.create(s);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,e(t,i,"GeneratorFunction")),t.prototype=Object.create(d),t}return p.prototype=f,e(d,"constructor",f),e(f,"constructor",p),p.displayName="GeneratorFunction",e(f,i,"GeneratorFunction"),e(d),e(d,i,"Generator"),e(d,c,function(){return this}),e(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:a,m:v}})()}function e(t,n,r,o){var c=Object.defineProperty;try{c({},"",{})}catch(t){c=0}e=function(t,n,r,o){function i(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?c?c(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},e(t,n,r,o)}function n(t,e,n,r,o,c,i){try{var a=t[c](i),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(o,c){var i=t.apply(e,r);function a(t){n(i,o,c,a,u,"next",t)}function u(t){n(i,o,c,a,u,"throw",t)}a(void 0)})}}var o,c,i,a,u,l,p,f,s,d,v,y,b,m,h,g,k,w,_,O,P,j,E;o=wp.data,c=o.select,i=o.resolveSelect,a=o.subscribe,u=o.dispatch,l=wp.blocks.parse,p=wp.element,f=p.createElement,s=p.createRoot,d=p.render,v=p.unmountComponentAtNode,y=wp.components,b=y.Modal,m=y.Button,h=y.Flex,g=function(){var t=c("core/edit-post");return!t||"function"!=typeof t.isEditorReady||t.isEditorReady()},k=function(){var t;return null===(t=c("core/editor").getPostEdits())||void 0===t?void 0:t.template},w=function(t){if(!t)return"";var e=String(t),n=(e=e.replace(/^[^:]+:/,"")).indexOf("//");return-1!==n&&(e=e.slice(n+2)),(e=(e=e.split("/").pop()).replace(/\.[^.]+$/,"")).trim().toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"")},_=function(){var e=r(t().m(function e(n){var r;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i("core").getEntityRecords("postType","wp_block",{per_page:-1,status:"publish",slug:n});case 1:return r=t.v,t.a(2,null==r?void 0:r[0])}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(t){var e;return!t||0===t.length||!(1!==t.length||"core/paragraph"!==t[0].name||null!==(e=t[0].attributes)&&void 0!==e&&e.content&&""!==String(t[0].attributes.content).trim())||t.every(function(t){return"core/null"===t.name})},P=function(t){return new Promise(function(e){var n=document.createElement("div");document.body.appendChild(n);var r=function(t){try{s&&n._root?n._root.unmount():null==v||v(n)}catch(t){}n.remove(),e(t)},o=function(){return f(b,{title:"Apply the starter content?",onRequestClose:function(){return r("cancel")}},[f("p",{style:{marginTop:0}},"Pattern - ".concat(t)),f(h,{gap:"8px",style:{marginTop:"12px"}},[f(m,{variant:"primary",onClick:function(){return r("replace")}},"Replace"),f(m,{variant:"primary",onClick:function(){return r("prepend")}},"Prepend"),f(m,{variant:"secondary",onClick:function(){return r("cancel")}},"Don't insert")])])};s?(n._root=s(n),n._root.render(f(o))):(d||wp.element.render)(f(o),n)})},j=null,E=!1,a(r(t().m(function e(){var n,r,o,i,a,p,f,s,d,v,y;return t().w(function(t){for(;;)switch(t.n){case 0:if(g()){t.n=1;break}return t.a(2);case 1:if((o=k())&&o!==j&&!E){t.n=2;break}return t.a(2);case 2:if(j=o,E=!0,i=w(o)){t.n=3;break}return E=!1,t.a(2);case 3:return a="".concat(i,"-starter"),t.n=4,_(a);case 4:if(p=t.v){t.n=5;break}return E=!1,t.a(2);case 5:if(f="string"==typeof p.content?p.content:(null===(n=p.content)||void 0===n?void 0:n.raw)||(null===(r=p.content)||void 0===r?void 0:r.rendered)||p.post_content||""){t.n=6;break}return E=!1,t.a(2);case 6:if(s=c("core/block-editor").getBlocks(),d="replace",O(s)){t.n=8;break}return t.n=7,P(a);case 7:d=t.v;case 8:if("cancel"!==d){t.n=9;break}return E=!1,t.a(2);case 9:v=l(f),"replace"===d?((y=s.map(function(t){return t.clientId})).length&&u("core/block-editor").removeBlocks(y,!0),u("core/block-editor").insertBlocks(v,0)):"prepend"===d&&u("core/block-editor").insertBlocks(v,0),E=!1;case 10:return t.a(2)}},e)})))}();