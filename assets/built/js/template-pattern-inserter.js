/*! For license information please see template-pattern-inserter.js.LICENSE.txt */
!function(){function t(){var n,r,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function a(t,o,c,i){var a=o&&o.prototype instanceof l?o:l,f=Object.create(a.prototype);return e(f,"_invoke",function(t,e,o){var c,i,a,l=0,f=o||[],s=!1,p={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return c=t,i=0,a=n,p.n=e,u}};function d(t,e){for(i=t,a=e,r=0;!s&&l&&!o&&r<f.length;r++){var o,c=f[r],d=p.p,v=c[2];t>3?(o=v===e)&&(a=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=n):c[0]<=d&&((o=t<2&&d<c[1])?(i=0,p.v=e,p.n=c[1]):d<v&&(o=t<3||c[0]>e||e>v)&&(c[4]=t,c[5]=e,p.n=v,i=0))}if(o||t>1)return u;throw s=!0,e}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&d(f,v),i=f,a=v;(r=i<2?n:a)||!s;){c||(i?i<3?(i>1&&(p.n=-1),d(i,a)):p.n=a:p.v=a);try{if(l=2,c){if(i||(o="next"),r=c[o]){if(!(r=r.call(c,a)))throw TypeError("iterator result is not an object");if(!r.done)return r;a=r.value,i<2&&(i=0)}else 1===i&&(r=c.return)&&r.call(c),i<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=n}else if((r=(s=p.n<0)?a:t.call(e,p))!==u)break}catch(t){c=n,i=1,a=t}finally{l=1}}return{value:r,done:s}}}(t,c,i),!0),f}var u={};function l(){}function f(){}function s(){}r=Object.getPrototypeOf;var p=[][c]?r(r([][c]())):(e(r={},c,function(){return this}),r),d=s.prototype=l.prototype=Object.create(p);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,e(t,i,"GeneratorFunction")),t.prototype=Object.create(d),t}return f.prototype=s,e(d,"constructor",s),e(s,"constructor",f),f.displayName="GeneratorFunction",e(s,i,"GeneratorFunction"),e(d),e(d,i,"Generator"),e(d,c,function(){return this}),e(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:a,m:v}})()}function e(t,n,r,o){var c=Object.defineProperty;try{c({},"",{})}catch(t){c=0}e=function(t,n,r,o){function i(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?c?c(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r:(i("next",0),i("throw",1),i("return",2))},e(t,n,r,o)}function n(t,e,n,r,o,c,i){try{var a=t[c](i),u=a.value}catch(t){return void n(t)}a.done?e(u):Promise.resolve(u).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(o,c){var i=t.apply(e,r);function a(t){n(i,o,c,a,u,"next",t)}function u(t){n(i,o,c,a,u,"throw",t)}a(void 0)})}}var o,c,i,a,u,l,f,s,p,d,v,y,b,m,h,g,k,w,_,P,O,j,E,T;o=wp.data,c=o.select,i=o.resolveSelect,a=o.subscribe,u=o.dispatch,l=wp.blocks.parse,f=wp.element,s=f.createElement,p=f.createRoot,d=f.render,v=f.unmountComponentAtNode,y=wp.components,b=y.Modal,m=y.Button,h=y.Flex,g=function(){var t=c("core/edit-post");return!t||"function"!=typeof t.isEditorReady||t.isEditorReady()},k=function(){var t;return null===(t=c("core/editor").getPostEdits())||void 0===t?void 0:t.template},w=function(){return c("core/editor").getCurrentPostId()},_=function(){var e=r(t().m(function e(n){var r;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,i("core").getEntityRecords("postType","wp_block",{per_page:-1,status:"publish",slug:n});case 1:return r=t.v,t.a(2,null==r?void 0:r[0])}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(t){var e;return!t||0===t.length||!(1!==t.length||"core/paragraph"!==t[0].name||null!==(e=t[0].attributes)&&void 0!==e&&e.content&&""!==String(t[0].attributes.content).trim())||t.every(function(t){return"core/null"===t.name})},O=function(t){return new Promise(function(e){var n=document.createElement("div");document.body.appendChild(n);var r=function(t){try{p&&n._root?n._root.unmount():null==v||v(n)}catch(t){}n.remove(),e(t)},o=function(){return s(b,{title:"Apply the starter content?",onRequestClose:function(){return r("cancel")}},[s("p",{style:{marginTop:0}},"Pattern - ".concat(t)),s(h,{gap:"8px",style:{marginTop:"12px"}},[s(m,{variant:"primary",onClick:function(){return r("replace")}},"Replace"),s(m,{variant:"primary",onClick:function(){return r("prepend")}},"Prepend"),s(m,{variant:"secondary",onClick:function(){return r("cancel")}},"Don't insert")])])};p?(n._root=p(n),n._root.render(s(o))):(d||wp.element.render)(s(o),n)})},j=null,E=!1,T=new Set,a(r(t().m(function e(){var n,r,o,i,a,f,s,p,d,v,y,b;return t().w(function(t){for(;;)switch(t.n){case 0:if(g()){t.n=1;break}return t.a(2);case 1:if((o=k())&&o!==j&&!E){t.n=2;break}return t.a(2);case 2:if(j=o,i=w(),a="".concat(i,":").concat(o),!T.has(a)){t.n=3;break}return t.a(2);case 3:return E=!0,f="".concat(o,"-starter"),t.n=4,_(f);case 4:if(s=t.v){t.n=5;break}return T.add(a),E=!1,t.a(2);case 5:if(p="string"==typeof s.content?s.content:(null===(n=s.content)||void 0===n?void 0:n.raw)||(null===(r=s.content)||void 0===r?void 0:r.rendered)||s.post_content||""){t.n=6;break}return T.add(a),E=!1,t.a(2);case 6:if(d=c("core/block-editor").getBlocks(),v="replace",P(d)){t.n=8;break}return t.n=7,O(f);case 7:v=t.v;case 8:if("cancel"!==v){t.n=9;break}return E=!1,t.a(2);case 9:y=l(p),"replace"===v?((b=d.map(function(t){return t.clientId})).length&&u("core/block-editor").removeBlocks(b,!0),u("core/block-editor").insertBlocks(y,0)):"prepend"===v&&u("core/block-editor").insertBlocks(y,0),T.add(a),E=!1;case 10:return t.a(2)}},e)})))}();