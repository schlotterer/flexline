/*! For license information please see template-pattern-inserter.js.LICENSE.txt */
!function(){function t(){var n,r,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",a=o.toStringTag||"@@toStringTag";function i(t,o,c,a){var i=o&&o.prototype instanceof l?o:l,f=Object.create(i.prototype);return e(f,"_invoke",function(t,e,o){var c,a,i,l=0,f=o||[],p=!1,s={p:0,n:0,v:n,a:d,f:d.bind(n,4),d:function(t,e){return c=t,a=0,i=n,s.n=e,u}};function d(t,e){for(a=t,i=e,r=0;!p&&l&&!o&&r<f.length;r++){var o,c=f[r],d=s.p,v=c[2];t>3?(o=v===e)&&(i=c[(a=c[4])?5:(a=3,3)],c[4]=c[5]=n):c[0]<=d&&((o=t<2&&d<c[1])?(a=0,s.v=e,s.n=c[1]):d<v&&(o=t<3||c[0]>e||e>v)&&(c[4]=t,c[5]=e,s.n=v,a=0))}if(o||t>1)return u;throw p=!0,e}return function(o,f,v){if(l>1)throw TypeError("Generator is already running");for(p&&1===f&&d(f,v),a=f,i=v;(r=a<2?n:i)||!p;){c||(a?a<3?(a>1&&(s.n=-1),d(a,i)):s.n=i:s.v=i);try{if(l=2,c){if(a||(o="next"),r=c[o]){if(!(r=r.call(c,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=c.return)&&r.call(c),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);c=n}else if((r=(p=s.n<0)?i:t.call(e,s))!==u)break}catch(t){c=n,a=1,i=t}finally{l=1}}return{value:r,done:p}}}(t,c,a),!0),f}var u={};function l(){}function f(){}function p(){}r=Object.getPrototypeOf;var s=[][c]?r(r([][c]())):(e(r={},c,function(){return this}),r),d=p.prototype=l.prototype=Object.create(s);function v(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,e(t,a,"GeneratorFunction")),t.prototype=Object.create(d),t}return f.prototype=p,e(d,"constructor",p),e(p,"constructor",f),f.displayName="GeneratorFunction",e(p,a,"GeneratorFunction"),e(d),e(d,a,"Generator"),e(d,c,function(){return this}),e(d,"toString",function(){return"[object Generator]"}),(t=function(){return{w:i,m:v}})()}function e(t,n,r,o){var c=Object.defineProperty;try{c({},"",{})}catch(t){c=0}e=function(t,n,r,o){function a(n,r){e(t,n,function(t){return this._invoke(n,r,t)})}n?c?c(t,n,{value:r,enumerable:!o,configurable:!o,writable:!o}):t[n]=r:(a("next",0),a("throw",1),a("return",2))},e(t,n,r,o)}function n(t,e,n,r,o,c,a){try{var i=t[c](a),u=i.value}catch(t){return void n(t)}i.done?e(u):Promise.resolve(u).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise(function(o,c){var a=t.apply(e,r);function i(t){n(a,o,c,i,u,"next",t)}function u(t){n(a,o,c,i,u,"throw",t)}i(void 0)})}}var o,c,a,i,u,l,f,p,s,d,v,y,b,m,h,g,k,w,_,O,P,j,E,S,T;o=wp.data,c=o.select,a=o.resolveSelect,i=o.subscribe,u=o.dispatch,l=wp.blocks.parse,f=wp.element,p=f.createElement,s=f.createRoot,d=f.render,v=f.unmountComponentAtNode,y=wp.components,b=y.Modal,m=y.Button,h=y.Flex,g=function(){var t=c("core/edit-post");return!t||"function"!=typeof t.isEditorReady||t.isEditorReady()},k=function(){var t;return null===(t=c("core/editor").getPostEdits())||void 0===t?void 0:t.template},w=function(){return c("core/editor").getCurrentPostId()},_=function(t){if(!t)return"";var e=String(t),n=(e=e.replace(/^[^:]+:/,"")).indexOf("//");return-1!==n&&(e=e.slice(n+2)),(e=(e=e.split("/").pop()).replace(/\.[^.]+$/,"")).trim().toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^-+|-+$/g,"")},O=function(){var e=r(t().m(function e(n){var r;return t().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,a("core").getEntityRecords("postType","wp_block",{per_page:-1,status:"publish",slug:n});case 1:return r=t.v,t.a(2,null==r?void 0:r[0])}},e)}));return function(t){return e.apply(this,arguments)}}(),P=function(t){var e;return!t||0===t.length||!(1!==t.length||"core/paragraph"!==t[0].name||null!==(e=t[0].attributes)&&void 0!==e&&e.content&&""!==String(t[0].attributes.content).trim())||t.every(function(t){return"core/null"===t.name})},j=function(t){return new Promise(function(e){var n=document.createElement("div");document.body.appendChild(n);var r=function(t){try{s&&n._root?n._root.unmount():null==v||v(n)}catch(t){}n.remove(),e(t)},o=function(){return p(b,{title:"Apply the starter content?",onRequestClose:function(){return r("cancel")}},[p("p",{style:{marginTop:0}},"Pattern - ".concat(t)),p(h,{gap:"8px",style:{marginTop:"12px"}},[p(m,{variant:"primary",onClick:function(){return r("replace")}},"Replace"),p(m,{variant:"primary",onClick:function(){return r("prepend")}},"Prepend"),p(m,{variant:"secondary",onClick:function(){return r("cancel")}},"Don't insert")])])};s?(n._root=s(n),n._root.render(p(o))):(d||wp.element.render)(p(o),n)})},E=null,S=!1,T=new Set,i(r(t().m(function e(){var n,r,o,a,i,f,p,s,d,v,y,b,m;return t().w(function(t){for(;;)switch(t.n){case 0:if(g()){t.n=1;break}return t.a(2);case 1:if((o=k())&&o!==E&&!S){t.n=2;break}return t.a(2);case 2:if(E=o,a=w(),i="".concat(a,":").concat(o),!T.has(i)){t.n=3;break}return t.a(2);case 3:if(S=!0,f=_(o)){t.n=4;break}return T.add(i),S=!1,t.a(2);case 4:return p="".concat(f,"-starter"),t.n=5,O(p);case 5:if(s=t.v){t.n=6;break}return T.add(i),S=!1,t.a(2);case 6:if(d="string"==typeof s.content?s.content:(null===(n=s.content)||void 0===n?void 0:n.raw)||(null===(r=s.content)||void 0===r?void 0:r.rendered)||s.post_content||""){t.n=7;break}return T.add(i),S=!1,t.a(2);case 7:if(v=c("core/block-editor").getBlocks(),y="replace",P(v)){t.n=9;break}return t.n=8,j(p);case 8:y=t.v;case 9:if("cancel"!==y){t.n=10;break}return S=!1,t.a(2);case 10:b=l(d),"replace"===y?((m=v.map(function(t){return t.clientId})).length&&u("core/block-editor").removeBlocks(m,!0),u("core/block-editor").insertBlocks(b,0)):"prepend"===y&&u("core/block-editor").insertBlocks(b,0),T.add(i),S=!1;case 11:return t.a(2)}},e)})))}();